(function(t){function e(e){for(var n,o,s=e[0],a=e[1],l=e[2],p=0,f=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(f.length)f.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,s=1;s<r.length;s++){var a=r[s];0!==i[a]&&(n=!1)}n&&(c.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},i={app:0},c=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=a;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},2298:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),i=(r("b0c0"),r("9911"),Object(n["p"])("data-v-fd8c909a"));Object(n["i"])("data-v-fd8c909a");var c={class:"shop__wrapper"},o={class:"shop-filter"},s={action:"#"},a={class:"shop-filter__fieldset"},l=Object(n["f"])("p",null,"Категория",-1),u={class:"shop-filter__list"},p={action:"#"},f={class:"shop-filter__fieldset"},b=Object(n["f"])("p",null,"Цена",-1),g={class:"shop-filter__list"},h={class:"shop-filter__price"},d=Object(n["e"])(" от "),O=Object(n["e"])(" до "),j={class:"shop-products"},m={key:0,class:"filterStatus"},v={key:1,class:"filterStatus"},P={key:2,class:"shop-list"};Object(n["h"])();var _=i((function(t,e,r,i,_,y){var k=Object(n["k"])("sort-up"),w=Object(n["k"])("shop-filter-option"),S=Object(n["k"])("shop-list-item"),C=Object(n["k"])("pagination");return Object(n["g"])(),Object(n["c"])("div",c,[Object(n["f"])(k,{items:_.sortUpList,currentItem:_.sortBy,onApplySortUp:y.applySortUp},null,8,["items","currentItem","onApplySortUp"]),Object(n["f"])("div",o,[Object(n["f"])("form",s,[Object(n["f"])("div",a,[l,Object(n["f"])("button",{class:"shop-filter__reset",type:"reset",onClick:e[1]||(e[1]=function(){return y.resetFilter&&y.resetFilter.apply(y,arguments)})},"Сбросить")]),Object(n["f"])("div",u,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(_.categories,(function(t){return Object(n["g"])(),Object(n["c"])(w,{key:t.id,name:t.name,url:t.url,onCheckOption:y.checkboxHandler},null,8,["name","url","onCheckOption"])})),128))])]),Object(n["f"])("form",p,[Object(n["f"])("div",f,[b,Object(n["f"])("button",{class:"shop-filter__reset",type:"reset",onClick:e[2]||(e[2]=function(){return y.resetFilter&&y.resetFilter.apply(y,arguments)})},"Сбросить")]),Object(n["f"])("div",g,[Object(n["f"])("div",h,[Object(n["f"])("label",null,[d,Object(n["n"])(Object(n["f"])("input",{class:"shop-filter__number",type:"number",placeholder:"390","onUpdate:modelValue":e[3]||(e[3]=function(t){return _.filterMinPrice=t})},null,512),[[n["m"],_.filterMinPrice]])]),Object(n["f"])("label",null,[O,Object(n["n"])(Object(n["f"])("input",{class:"shop-filter__number",type:"number",placeholder:"42990","onUpdate:modelValue":e[4]||(e[4]=function(t){return _.filterMaxPrice=t})},null,512),[[n["m"],_.filterMaxPrice]])])])])])]),Object(n["f"])("div",j,[_.isLoading?(Object(n["g"])(),Object(n["c"])("p",m,"Загрузка...")):_.isLoading||0!==y.productsPage.length?!_.isLoading&&y.productsPage.length>0?(Object(n["g"])(),Object(n["c"])("ul",P,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(y.productsPage,(function(t){return Object(n["g"])(),Object(n["c"])(S,{key:t.id,img:t.img,name:t.name,price:t.price,link:t.link},null,8,["img","name","price","link"])})),128))])):Object(n["d"])("",!0):(Object(n["g"])(),Object(n["c"])("p",v,"Товары не найдены")),Object(n["f"])(C,{currentPage:Math.min(_.currentPage,y.countPage),countPage:y.countPage,onSwitchPage:y.switchCurrentPage},null,8,["currentPage","countPage","onSwitchPage"])])])})),y=(r("4de4"),r("caad"),r("c975"),r("fb6a"),r("a434"),r("d3b7"),r("2532"),{class:"shop-filter__option"});function k(t,e,r,i,c,o){return Object(n["g"])(),Object(n["c"])("div",y,[Object(n["f"])("input",{class:"visually-hidden",type:"checkbox",id:r.url,onClick:e[1]||(e[1]=function(){return o.checkOption&&o.checkOption.apply(o,arguments)})},null,8,["id"]),Object(n["f"])("label",{class:"shop-filter__label",for:r.url},Object(n["l"])(r.name),9,["for"])])}var w={props:{name:String,url:String},methods:{checkOption:function(){this.$emit("check-option",this.url)}}};w.render=k;var S=w,C={class:"shop-list__item"},L={class:"shop-list__img"},M={class:"shop-list__title"},x={class:"shop-list__price"},U=Object(n["f"])("p",{class:"shop-list__btn"},"Смотреть",-1);function F(t,e,r,i,c,o){return Object(n["g"])(),Object(n["c"])("li",C,[Object(n["f"])("a",{class:"shop-list__link",href:r.link,target:"_blank",rel:"nofollow"},[Object(n["f"])("div",L,[Object(n["f"])("img",{src:r.img,alt:r.name},null,8,["src","alt"])]),Object(n["f"])("p",M,Object(n["l"])(r.name),1),Object(n["f"])("p",x,Object(n["l"])(r.price)+" ₽",1),U],8,["href"])])}r("a9e3");var I={props:{name:String,img:String,price:Number,link:String},data:function(){return{}}};I.render=F;var N=I,B={class:"sort-up"};function A(t,e,r,i,c,o){return Object(n["g"])(),Object(n["c"])("div",B,[Object(n["f"])("button",{class:["sort-up__btn sort-arrow",{active:c.showList}],type:"btn","aria-label":"Сортировка",onClick:e[1]||(e[1]=function(t){return c.showList=!c.showList})},Object(n["l"])(o.getPeriodName),3),c.showList?(Object(n["g"])(),Object(n["c"])("div",{key:0,class:[{show:c.showList},"sort-up__list"]},[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(r.items,(function(t){return Object(n["g"])(),Object(n["c"])("a",{key:t.id,onClick:function(e){return o.setPeriodSort(t.value)},class:"sort-up__link"},Object(n["l"])(t.name),9,["onClick"])})),128))],2)):Object(n["d"])("",!0)])}r("7db0");var $=r("53ca"),D={props:{items:[Array],currentItem:String},data:function(){return{showList:!1}},computed:{getPeriodName:function(){var t=this,e=this.items.find((function(e){return e.value==t.currentItem}));return"object"==Object($["a"])(e)?e.name:""}},methods:{setPeriodSort:function(t){this.$emit("apply-sort-up",t),this.showList=!1}}};D.render=A;var H=D,J={class:"pagination"},T={class:"pagination__list"};function V(t,e,r,i,c,o){return Object(n["g"])(),Object(n["c"])("div",J,[1!==r.currentPage?(Object(n["g"])(),Object(n["c"])("button",{key:0,class:"pagination__nav left","aria-label":"Предыдущая страница",onClick:e[1]||(e[1]=function(t){return o.switchPage(r.currentPage-1)})})):Object(n["d"])("",!0),Object(n["f"])("ul",T,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(r.countPage,(function(t){return Object(n["g"])(),Object(n["c"])("li",{class:["pagination__item",{active:t==r.currentPage}],key:t},[Object(n["f"])("a",{class:"pagination__link",href:"#",onClick:Object(n["o"])((function(e){return o.switchPage(t)}),["prevent"])},Object(n["l"])(t),9,["onClick"])],2)})),128))]),r.currentPage!==r.countPage?(Object(n["g"])(),Object(n["c"])("button",{key:1,class:"pagination__nav right","aria-label":"Следующая страница",onClick:e[2]||(e[2]=function(t){return o.switchPage(r.currentPage+1)})})):Object(n["d"])("",!0)])}var q={props:{currentPage:{type:Number,default:1},countPage:Number},methods:{switchPage:function(t){this.$emit("switch-page",t)}}};q.render=V;var z=q,E={new:function(t,e){return t.id<e.id?1:-1},cheap:function(t,e){return t.price>e.price?1:-1},expensive:function(t,e){return t.price<e.price?1:-1}},G={mounted:function(){this.getData()},components:{ShopFilterOption:S,ShopListItem:N,SortUp:H,Pagination:z},data:function(){return{products:[],categories:[],sortUpList:[],isLoading:!1,sortBy:"new",filterMinPrice:390,filterMaxPrice:42990,filterCategories:[],currentPage:1,perPage:3}},computed:{filterProducts:function(){var t=this,e=this.products.filter((function(e){return e.price>=t.filterMinPrice&&e.price<=t.filterMaxPrice}));return this.filterCategories.length>0&&(e=e.filter((function(e){return t.filterCategories.includes(e.category)}))),e=e.sort(E[this.sortBy]),e},productsPage:function(){var t=(Math.min(this.currentPage,this.countPage)-1)*this.perPage;return this.filterProducts.slice(t,t+this.perPage)},countPage:function(){return Math.ceil(this.filterProducts.length/this.perPage)}},methods:{getData:function(){var t=this;this.isLoading=!0,fetch("/products.json").then((function(t){if(t.ok)return t.json()})).then((function(e){t.isLoading=!1;var r=[],n=[],i=[];for(var c in e.products)r.push({id:c,name:e.products[c].name,img:e.products[c].img,price:e.products[c].price,link:e.products[c].link,category:e.products[c].category});for(var o in t.products=r,e.categories)n.push({id:o,name:e.categories[o].name,url:e.categories[o].url});for(var s in t.categories=n,e.sortUpList)i.push({id:s,name:e.sortUpList[s].name,value:e.sortUpList[s].value});t.sortUpList=i})).catch((function(t){console.log(t)}))},checkboxHandler:function(t){if(this.filterCategories.includes(t)){var e=this.filterCategories.indexOf(t);this.filterCategories.splice(e,1)}else this.filterCategories.push(t);console.log(this.filterCategories)},resetFilter:function(){this.filterMinPrice=390,this.filterMaxPrice=42990,this.filterCategories=[]},applySortUp:function(t){this.sortBy=t},switchCurrentPage:function(t){this.currentPage=t}}};r("6ac2");G.render=_,G.__scopeId="data-v-fd8c909a";var K=G,Q=Object(n["b"])(K);Q.mount("#app")},"6ac2":function(t,e,r){"use strict";r("2298")}});
//# sourceMappingURL=app.03dcafa0.js.map